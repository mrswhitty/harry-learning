<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Learning the /s/ Sound</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
    }

    .app-wrapper {
      width: 100%;
      height: 100%;
      background: #FDFCFA;
      font-family: 'Arial Rounded MT Bold', Arial, sans-serif;
      font-weight: bold;
      overflow: auto;
      display: flex;
      flex-direction: column;
    }

    .page {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 40px 20px;
      text-align: center;
      flex: 1;
      min-height: 500px;
    }

    .page.active {
      display: flex;
    }

    .letter-display {
      font-size: 140px;
      font-weight: bold;
      color: #2196F3;
      margin: 20px 0;
    }

    .instruction-text {
      font-size: 36px;
      color: #000000;
      margin: 15px 0;
      font-weight: bold;
      letter-spacing: 0.5px;
    }

    .sound-text {
      font-size: 52px;
      color: #2196F3;
      margin: 20px 0;
      font-weight: bold;
      letter-spacing: 1px;
    }

    .snake {
      width: 180px;
      height: 180px;
      margin: 30px 0;
    }

    .picture-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 30px;
      margin: 40px 0;
      max-width: 500px;
    }

    .picture-option {
      background: white;
      border: 4px solid #E0E0E0;
      border-radius: 20px;
      padding: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }

    .picture-option:hover {
      transform: scale(1.05);
      border-color: #2196F3;
    }

    .picture-option.correct {
      border-color: #2196F3;
      background: #BBDEFB;
    }

    .picture-option.incorrect {
      border-color: #D32F2F;
      background: #FFEBEE;
    }

    .picture-icon {
      width: 100px;
      height: 100px;
    }

    .picture-label {
      font-size: 28px;
      color: #000000;
      font-weight: bold;
      letter-spacing: 0.5px;
    }

    .listening-icon {
      width: 120px;
      height: 120px;
      margin: 30px 0;
    }

    .jump-area {
      width: 200px;
      height: 200px;
      margin: 40px 0;
      background: #BBDEFB;
      border: 5px dashed #2196F3;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 60px;
      cursor: pointer;
      transition: all 0.2s ease;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }

    .jump-area:hover {
      background: #90CAF9;
    }

    .jump-area.jumping {
      animation: jump 0.5s ease;
    }

    @keyframes jump {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-30px); }
    }

    .word-buttons {
      display: flex;
      gap: 20px;
      margin: 30px 0;
      flex-wrap: wrap;
      justify-content: center;
    }

    .word-button {
      background: white;
      border: 4px solid #2196F3;
      border-radius: 15px;
      padding: 18px 35px;
      font-size: 28px;
      color: #000000;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: bold;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }

    .word-button:hover {
      background: #2196F3;
      color: white;
    }

    .feed-area {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 40px;
      margin: 30px 0;
    }

    .snake-mouth {
      width: 200px;
      height: 200px;
      position: relative;
    }

    .food-items {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .food-item {
      background: white;
      border: 3px solid #E0E0E0;
      border-radius: 15px;
      padding: 15px;
      cursor: grab;
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }

    .food-item:hover {
      transform: scale(1.05);
      border-color: #2196F3;
    }

    .food-item.fed {
      opacity: 0.3;
      cursor: not-allowed;
    }

    .food-icon {
      width: 80px;
      height: 80px;
    }

    .success-icon {
      width: 100px;
      height: 100px;
      margin: 20px 0;
    }

    .navigation {
      display: flex;
      justify-content: center;
      gap: 20px;
      padding: 20px;
      background: white;
      border-top: 2px solid #E0E0E0;
    }

    .nav-button {
      background: #2196F3;
      color: white;
      border: none;
      border-radius: 12px;
      padding: 18px 45px;
      font-size: 22px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: bold;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }

    .nav-button:hover {
      background: #1976D2;
    }

    .nav-button:disabled {
      background: #CCCCCC;
      cursor: not-allowed;
    }

    .page-indicator {
      font-size: 20px;
      color: #000000;
      font-weight: bold;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="app-wrapper"><!-- Page 1: Introduction -->
   <div class="page active" id="page1">
    <div class="letter-display">
     s
    </div>
    <div class="instruction-text" id="main_instruction_text">
     This sound is /s/
    </div>
    <div class="sound-text" id="say_instruction_text">
     Say it with me: /ssss/
    </div>
    <svg class="snake" viewbox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><!-- Snake body with pattern --> <defs>
      <pattern id="snakePattern1" x="0" y="0" width="20" height="20" patternunits="userSpaceOnUse">
       <circle cx="10" cy="10" r="6" fill="#81C784" opacity="0.6" />
      </pattern>
     </defs> <path d="M40,100 Q50,70 70,75 Q90,80 100,90 Q110,100 125,95 Q140,90 155,100" fill="none" stroke="#66BB6A" stroke-width="28" stroke-linecap="round" /> <path d="M40,100 Q50,70 70,75 Q90,80 100,90 Q110,100 125,95 Q140,90 155,100" fill="none" stroke="url(#snakePattern1)" stroke-width="24" stroke-linecap="round" /> <!-- Head --> <ellipse cx="162" cy="100" rx="20" ry="16" fill="#66BB6A" /> <ellipse cx="162" cy="100" rx="16" ry="13" fill="#81C784" /> <!-- Eyes --> <ellipse cx="158" cy="95" rx="5" ry="6" fill="white" /> <ellipse cx="166" cy="95" rx="5" ry="6" fill="white" /> <circle cx="158" cy="95" r="3" fill="black" /> <circle cx="166" cy="95" r="3" fill="black" /> <circle cx="159" cy="94" r="1.5" fill="white" /> <circle cx="167" cy="94" r="1.5" fill="white" /> <!-- Smile --> <path d="M157,103 Q162,106 167,103" fill="none" stroke="black" stroke-width="1.5" stroke-linecap="round" /> <!-- Tongue --> <path d="M175,100 L183,98 M175,100 L183,102" stroke="#FF5252" stroke-width="2" stroke-linecap="round" />
    </svg>
   </div><!-- Page 2: Listen -->
   <div class="page" id="page2">
    <div class="instruction-text" id="listen_title_text">
     Listen for the sound
    </div>
    <div class="sound-text">
     /ssss/
    </div>
    <svg class="listening-icon" viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="35" fill="#BBDEFB" stroke="#2196F3" stroke-width="3" /> <path d="M35,40 Q50,35 65,40 Q50,50 35,40" fill="#2196F3" /> <circle cx="42" cy="42" r="3" fill="white" /> <circle cx="58" cy="42" r="3" fill="white" /> <path d="M40,60 Q50,65 60,60" fill="none" stroke="#2196F3" stroke-width="2" /> <path d="M70,35 Q75,40 70,45 M75,30 Q82,40 75,50 M80,25 Q88,40 80,55" fill="none" stroke="#2196F3" stroke-width="2" stroke-linecap="round" />
    </svg>
   </div><!-- Page 3: Quiz -->
   <div class="page" id="page3">
    <div class="instruction-text" id="quiz_question_text">
     Which one starts with /s/?
    </div>
    <div class="picture-grid">
     <div class="picture-option" data-answer="correct" onclick="checkAnswer(this)">
      <svg class="picture-icon" viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="30" fill="#FFD700" /> <path d="M50,15 L55,35 L75,35 L60,48 L65,68 L50,55 L35,68 L40,48 L25,35 L45,35 Z" fill="#FFD700" />
      </svg>
      <div class="picture-label">
       sun
      </div>
     </div>
     <div class="picture-option" data-answer="correct" onclick="checkAnswer(this)">
      <svg class="picture-icon" viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M30,30 Q30,20 40,20 L60,20 Q70,20 70,30 L70,70 Q70,80 60,80 L40,80 Q30,80 30,70 Z" fill="#E0E0E0" stroke="#999999" stroke-width="2" /> <ellipse cx="50" cy="40" rx="15" ry="10" fill="white" />
      </svg>
      <div class="picture-label">
       sock
      </div>
     </div>
     <div class="picture-option" data-answer="incorrect" onclick="checkAnswer(this)">
      <svg class="picture-icon" viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="55" r="30" fill="#D32F2F" /> <path d="M50,20 Q55,25 50,30 Q45,25 50,20" fill="#8B4513" /> <ellipse cx="42" cy="50" rx="3" ry="5" fill="white" /> <ellipse cx="58" cy="50" rx="3" ry="5" fill="white" />
      </svg>
      <div class="picture-label">
       apple
      </div>
     </div>
     <div class="picture-option" data-answer="incorrect" onclick="checkAnswer(this)">
      <svg class="picture-icon" viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><ellipse cx="45" cy="50" rx="25" ry="20" fill="#8B4513" /> <circle cx="70" cy="45" r="15" fill="#8B4513" /> <circle cx="40" cy="45" r="4" fill="black" /> <circle cx="55" cy="45" r="4" fill="black" /> <path d="M42,55 Q48,58 54,55" fill="none" stroke="black" stroke-width="2" /> <path d="M25,60 L20,75 L30,75 Z" fill="#8B4513" />
      </svg>
      <div class="picture-label">
       dog
      </div>
     </div>
    </div>
   </div><!-- Page 4: Jump Activity -->
   <div class="page" id="page4">
    <div class="instruction-text" id="jump_instruction_text">
     Jump if you hear /s/
    </div>
    <div class="instruction-text" style="font-size: 24px;" id="jump_subtext_text">
     I will say a word.
    </div>
    <div class="jump-area" id="jumpArea" onclick="performJump()">
     ðŸ‘Ÿ
    </div>
    <div class="word-buttons"><button class="word-button" onclick="playWord('sun', true)">sun</button> <button class="word-button" onclick="playWord('cat', false)">cat</button> <button class="word-button" onclick="playWord('sock', true)">sock</button> <button class="word-button" onclick="playWord('ball', false)">ball</button>
    </div>
   </div><!-- Page 5: Feed the Snake -->
   <div class="page" id="page5">
    <div class="instruction-text" id="feed_title_text">
     Feed the snake!
    </div>
    <div class="instruction-text" style="font-size: 24px;" id="feed_instruction_text">
     Feed it things that start with /s/
    </div>
    <div class="feed-area">
     <svg class="snake-mouth" viewbox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><defs>
       <pattern id="snakePattern5" x="0" y="0" width="20" height="20" patternunits="userSpaceOnUse">
        <circle cx="10" cy="10" r="6" fill="#81C784" opacity="0.6" />
       </pattern>
      </defs> <path d="M40,100 Q50,70 70,75 Q90,80 110,90 Q130,95 150,100" fill="none" stroke="#66BB6A" stroke-width="28" stroke-linecap="round" /> <path d="M40,100 Q50,70 70,75 Q90,80 110,90 Q130,95 150,100" fill="none" stroke="url(#snakePattern5)" stroke-width="24" stroke-linecap="round" /> <!-- Head with open mouth --> <ellipse cx="165" cy="95" rx="25" ry="22" fill="#66BB6A" /> <ellipse cx="165" cy="95" rx="20" ry="18" fill="#81C784" /> <!-- Open mouth --> <ellipse cx="175" cy="100" rx="18" ry="22" fill="#66BB6A" /> <ellipse cx="175" cy="100" rx="12" ry="16" fill="#FFB6C1" /> <!-- Eyes --> <ellipse cx="160" cy="88" rx="5" ry="6" fill="white" /> <ellipse cx="170" cy="88" rx="5" ry="6" fill="white" /> <circle cx="160" cy="88" r="3" fill="black" /> <circle cx="170" cy="88" r="3" fill="black" /> <circle cx="161" cy="87" r="1.5" fill="white" /> <circle cx="171" cy="87" r="1.5" fill="white" /> <!-- Tongue --> <path d="M190,100 L200,97 M190,100 L200,103" stroke="#FF5252" stroke-width="2" stroke-linecap="round" />
     </svg>
     <div class="food-items">
      <div class="food-item" data-starts-s="true" onclick="feedSnake(this, true)">
       <svg class="food-icon" viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="30" fill="#FFD700" /> <path d="M50,15 L55,35 L75,35 L60,48 L65,68 L50,55 L35,68 L40,48 L25,35 L45,35 Z" fill="#FFD700" />
       </svg>
       <div class="picture-label">
        sun
       </div>
      </div>
      <div class="food-item" data-starts-s="true" onclick="feedSnake(this, true)">
       <svg class="food-icon" viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M30,30 Q30,20 40,20 L60,20 Q70,20 70,30 L70,70 Q70,80 60,80 L40,80 Q30,80 30,70 Z" fill="#E0E0E0" stroke="#999999" stroke-width="2" /> <ellipse cx="50" cy="40" rx="15" ry="10" fill="white" />
       </svg>
       <div class="picture-label">
        sock
       </div>
      </div>
      <div class="food-item" data-starts-s="true" onclick="feedSnake(this, true)">
       <svg class="food-icon" viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><ellipse cx="50" cy="70" rx="35" ry="20" fill="#F4D03F" /> <path d="M30,60 Q50,40 70,60" fill="#F4D03F" /> <circle cx="45" cy="55" r="2" fill="#8B4513" /> <circle cx="55" cy="55" r="2" fill="#8B4513" />
       </svg>
       <div class="picture-label">
        sand
       </div>
      </div>
      <div class="food-item" data-starts-s="false" onclick="feedSnake(this, false)">
       <svg class="food-icon" viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="55" r="30" fill="#D32F2F" /> <path d="M50,20 Q55,25 50,30 Q45,25 50,20" fill="#8B4513" /> <ellipse cx="42" cy="50" rx="3" ry="5" fill="white" /> <ellipse cx="58" cy="50" rx="3" ry="5" fill="white" />
       </svg>
       <div class="picture-label">
        apple
       </div>
      </div>
     </div>
    </div>
   </div><!-- Page 6: Success -->
   <div class="page" id="page6">
    <div class="instruction-text" id="final_instruction_text">
     Say the sound again
    </div>
    <div class="sound-text">
     /ssss/
    </div>
    <svg class="snake" viewbox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><defs>
      <pattern id="snakePattern6" x="0" y="0" width="20" height="20" patternunits="userSpaceOnUse">
       <circle cx="10" cy="10" r="6" fill="#81C784" opacity="0.6" />
      </pattern>
     </defs> <path d="M40,100 Q50,70 70,75 Q90,80 100,90 Q110,100 125,95 Q140,90 155,100" fill="none" stroke="#66BB6A" stroke-width="28" stroke-linecap="round" /> <path d="M40,100 Q50,70 70,75 Q90,80 100,90 Q110,100 125,95 Q140,90 155,100" fill="none" stroke="url(#snakePattern6)" stroke-width="24" stroke-linecap="round" /> <!-- Happy head --> <ellipse cx="162" cy="100" rx="20" ry="16" fill="#66BB6A" /> <ellipse cx="162" cy="100" rx="16" ry="13" fill="#81C784" /> <!-- Happy eyes --> <path d="M155,94 Q158,91 161,94" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" /> <path d="M163,94 Q166,91 169,94" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" /> <!-- Big smile --> <path d="M155,103 Q162,108 169,103" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" /> <!-- Tongue --> <path d="M175,100 L183,98 M175,100 L183,102" stroke="#FF5252" stroke-width="2" stroke-linecap="round" />
    </svg>
    <svg class="success-icon" viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="40" fill="#2196F3" /> <path d="M30,50 L45,65 L70,35" fill="none" stroke="white" stroke-width="8" stroke-linecap="round" stroke-linejoin="round" />
    </svg>
   </div><!-- Navigation -->
   <div class="navigation"><button class="nav-button" id="prevBtn" onclick="changePage(-1)">Previous</button>
    <div class="page-indicator" id="pageIndicator">
     Page 1 of 6
    </div><button class="nav-button" id="nextBtn" onclick="changePage(1)">Next</button>
   </div>
  </div>
  <script>
    const defaultConfig = {
      main_instruction: "This sound is /s/",
      say_instruction: "Say it with me: /ssss/",
      listen_title: "Listen for the sound",
      quiz_question: "Which one starts with /s/?",
      jump_instruction: "Jump if you hear /s/",
      jump_subtext: "I will say a word.",
      feed_title: "Feed the snake!",
      feed_instruction: "Feed it things that start with /s/",
      final_instruction: "Say the sound again"
    };

    let currentPage = 1;
    const totalPages = 6;

    async function onConfigChange(config) {
      document.getElementById('main_instruction_text').textContent = config.main_instruction || defaultConfig.main_instruction;
      document.getElementById('say_instruction_text').textContent = config.say_instruction || defaultConfig.say_instruction;
      document.getElementById('listen_title_text').textContent = config.listen_title || defaultConfig.listen_title;
      document.getElementById('quiz_question_text').textContent = config.quiz_question || defaultConfig.quiz_question;
      document.getElementById('jump_instruction_text').textContent = config.jump_instruction || defaultConfig.jump_instruction;
      document.getElementById('jump_subtext_text').textContent = config.jump_subtext || defaultConfig.jump_subtext;
      document.getElementById('feed_title_text').textContent = config.feed_title || defaultConfig.feed_title;
      document.getElementById('feed_instruction_text').textContent = config.feed_instruction || defaultConfig.feed_instruction;
      document.getElementById('final_instruction_text').textContent = config.final_instruction || defaultConfig.final_instruction;
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [],
        borderables: [],
        fontEditable: undefined,
        fontSizeable: undefined
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ["main_instruction", config.main_instruction || defaultConfig.main_instruction],
        ["say_instruction", config.say_instruction || defaultConfig.say_instruction],
        ["listen_title", config.listen_title || defaultConfig.listen_title],
        ["quiz_question", config.quiz_question || defaultConfig.quiz_question],
        ["jump_instruction", config.jump_instruction || defaultConfig.jump_instruction],
        ["jump_subtext", config.jump_subtext || defaultConfig.jump_subtext],
        ["feed_title", config.feed_title || defaultConfig.feed_title],
        ["feed_instruction", config.feed_instruction || defaultConfig.feed_instruction],
        ["final_instruction", config.final_instruction || defaultConfig.final_instruction]
      ]);
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }

    function changePage(direction) {
      const pages = document.querySelectorAll('.page');
      pages[currentPage - 1].classList.remove('active');
      
      currentPage += direction;
      if (currentPage < 1) currentPage = 1;
      if (currentPage > totalPages) currentPage = totalPages;
      
      pages[currentPage - 1].classList.add('active');
      
      updateNavigation();
    }

    function updateNavigation() {
      document.getElementById('prevBtn').disabled = currentPage === 1;
      document.getElementById('nextBtn').disabled = currentPage === totalPages;
      document.getElementB
